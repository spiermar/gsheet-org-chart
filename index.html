<!DOCTYPE html>
<html>
  <head>
    <title>Org Chart</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <!--Add buttons to initiate auth sequence and sign out-->
    <button id="authorize_button" onclick="handleAuthClick(initOrgChart)">Authorize</button>
    <button id="signout_button" onclick="handleSignoutClick()">Sign Out</button>

    <div
        class="chart-container"
    ></div>

    <pre id="content" style="white-space: pre-wrap;"></pre>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-org-chart@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-flextree@2.1.2/build/d3-flextree.js"></script>
    <link
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        rel="stylesheet"
    />

    <script src="config.js"></script>
    <script src="gsheet.js"></script>
    <script src="buildOrgStructure.js"></script>
    <script src="orgChart.js"></script>
    <script>
        async function initOrgChart() {
            const people = await getPeople()
            renderOrgChart(people)
        }
    </script>
    <script async defer src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script>
    <script async defer src="https://accounts.google.com/gsi/client" onload="gisLoaded()"></script>
  </body>
</html>